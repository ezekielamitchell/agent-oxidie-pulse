[env:esp32doit-devkit-v1]
platform = espressif32
board = esp32doit-devkit-v1
framework = arduino

; -------------------------------------------------------------------------
; Build Configuration: Debug Mode
; -------------------------------------------------------------------------
; 'debug' ensures symbols are generated and optimization is disabled by default
build_type = debug

; Force no optimization (-O0) and max debug info (-ggdb3)
; essential for inspecting variables without them being optimized away.
build_flags = 
    -O0 
    -ggdb3 
    -g3

; -------------------------------------------------------------------------
; Debugging Configuration: ESP-PROG (FT2232H)
; -------------------------------------------------------------------------
debug_tool = esp-prog

; Initial breakpoint at setup() to halt immediately
debug_init_break = tbreak setup

; -------------------------------------------------------------------------
; Upload Configuration
; -------------------------------------------------------------------------
; Fallback: Use standard USB (esptool) if JTAG is flaky.
upload_protocol = esptool

; Default speed for reliable JTAG on jumper wires
debug_speed = 500

; -------------------------------------------------------------------------
; Monitor Configuration
; -------------------------------------------------------------------------
monitor_speed = 115200
